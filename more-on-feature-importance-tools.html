<html class="notion-html"><head lang="en"><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-ZFJ6BNREDK"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZFJ6BNREDK');</script><meta charset="utf-8"/><meta content="width=device-width,height=device-height,initial-scale=1,maximum-scale=1,user-scalable=no,viewport-fit=cover" name="viewport"/><title>More on feature importance tools</title><meta content="en_US" property="og:locale"/><link href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAABJhJREFUWEftlltoHUUcxr+Z2Tl7bklzaZqYC42oUKXaira2wVoV6kNfoo/exQr1QSSIT9EHofoc0Qcvj4IWpNA24pullWhNG62NUltNTEtMzO3kcu57dndm5L+7TeKD5EKgINmchT17Zub7zff9/0MYbvHFbrE+NgE2Hfh/OJA92bo33djyCa9q3p0bHuirHhx7lL0DvZoOW7cDxoDNndy2LxaveiFV1/Qqq2oHWBxzV77C7+ed+o6e3NyGA2RPt97JhXhCWPY+HpMHYum6dpbYFukoVKaHcK1vZMr/u9z24KfwNgwg19t6RKa2HJWJ9B4uJJiQgGUDngOtXPhOEbmpcYwOllDOW/sf/jDXvxpxGrNiBHMnbvsi3dD4tKzaCuNXoFwH2q/Ad8ooZ+eRmy2iMGOypZx1Vib1uw8cK/20WvEVATLH64+ltzW9bde3AV4Z2vdgjAog3GIefgDjg3GeiSVTF+xkdQWcb1eeywBjAMYY54IxJhgX9NUHg4aG75ZyP1ayfveiA9NfNjRl0zPzdx1Ghcj++ijRkmqoHqvdvgOQCUB5gLABbgEiBYAWtABYABOAUUAQ+80lxb8NXhxDrwVQGkLmj8GPg9ELvS2Pu4Xy1/Touf4V7aufpS0P17W13yNTW0IAHgsnkihLhM90GQ/QBcDo8NYewDjAZQQYDAK0G0LSRhiDMzuO8as3jgcAlXO7xmBMizEavlOCX6kgUVuPWLIGsNOASAJMRtESCA/FQIv6gJ+HLi0gO3HDy8/mpJ2QFEsESPImSERrA+0ruI5eyM+YC9LCUWYuHToI5Z6DTIXuGbKIR7tlAItFVpIgvY8v7T6QIOstoPQnxi4PTE6OmJf9CsA5hMWZp7RymMV8rVjFKF5S8ItJFc/e//7CQlCE5tfO98Bk92KWwU7JXrI0ypVspmdGNUAABBXtMCQOHPEyA8gMDR9oPpL/brWdwMzg4VPg8c7A4qColnemiqym1/bS74txkLVOWAcsAS9zCTMjw50tL+V7Vw8wcPB7yERHWFyReJAvbZLcYACneGQktCwCXQKMG/5WHMXE1cvfNL+YO7Ra8SACv7/jW87FI0HbLr8YA/2FIAKQych+iodqwQrFaYyoBbwJjF08c6rtlcJTawJw+/Z8DqOeYVR4QZ5kBLURVfoSFBMW6BheLO1wJCBiQLwFUAVMD57pb3xufv+aAJwz93V5Tr6HcwGtFYwxEJaEkLFQMIjFIDjJSJA+jINalgBpDLdTKExdR2Zk8snbXyudXhNA+eyO9sLUzHWtNG7ejDNIO4ZYMhGAUBRBL9MT52G3Ru5wy4LRGhPXRn+54/XyrrWIRx4Cwx8kPnPLeJ6cV254WOmoDtN1QNVWG8Kygptb4QmolQqECSA3PY98Bj073yq/sS4AmnS+K33O8/huY/CbAUZcFxe1Zsl0Wj+bSKmddsoglgSkHUrcbBjPBYpzGInHrb13d+dn1w1AE8921dQ8Fp1Qyxf64c3qh5Rv7jWatTOGeiFUXEhTtiQySrEhzyme6OhBea3iixGsZ+JGzVnxH5KNEvqvdTYBbrkD/wC29e3TCN9TLgAAAABJRU5ErkJggg==" rel="shortcut icon" type="image/x-icon"/><link href="/images/logo-ios.png" rel="apple-touch-icon"/><meta content="yes" name="apple-mobile-web-app-capable"/><meta content="telephone=no" name="format-detection"/><meta content="no" name="msapplication-tap-highlight"/><link href="assets/css/e218a1aef6df86309cb95b61e446888efa3b0379.css" media="print" rel="stylesheet"/><link href="assets/css/ea336c780f905bf8e5199e24de64f0cf84362824.css" rel="stylesheet"/><meta content="Edouard d'Archimbaud" name="title"/><meta content="Edouard d'Archimbaud official website. My mission is to inspire and help people become professional traders. I offer a course to become quant trader and a database of quantitative trading ideas derived from academic research papers." name="description"/><style type="text/css"></style><link href="assets/css/e1d809d762eeca23edf0cb31bb17bf3c703085f5.css" rel="stylesheet"/><link href="None" rel="icon" sizes="32x32" type="image/png"/></head><body class="notion-body"><style>body{background:#fff}body.dark{background:#191919}@keyframes startup-shimmer-animation{0%{transform:translateX(-100%) translateZ(0)}100%{transform:translateX(100%) translateZ(0)}}@keyframes startup-shimmer-fade-in{0%{opacity:0}100%{opacity:1}}@keyframes startup-spinner-rotate{0%{transform:rotate(0) translateZ(0)}100%{transform:rotate(360deg) translateZ(0)}}#initial-loading-spinner{position:fixed;height:100vh;width:100vw;z-index:-1;display:none;align-items:center;justify-content:center;opacity:.5}#initial-loading-spinner svg{height:24px;width:24px;animation:startup-spinner-rotate 1s linear infinite;transform-origin:center center;pointer-events:none}#skeleton{background:#fff;position:fixed;height:100vh;width:100vw;z-index:-1;display:none;overflow:hidden}#initial-loading-spinner.show,#skeleton.show{display:flex}body.dark #skeleton{background:#191919}.notion-front-page #skeleton,.notion-mobile #skeleton{display:none}#skeleton-sidebar{background-color:#fbfbfa;box-shadow:inset -1px 0 0 0 rgba(0,0,0,.025);display:flex;width:240px;flex-direction:column;padding:12px 14px;overflow:hidden}body.dark #skeleton-sidebar{background-color:#202020;box-shadow:inset -1px 0 0 0 rgba(255,255,255,.05)}#skeleton.isElectron #skeleton-sidebar{padding-top:46px}#skeleton .row{display:flex;margin-bottom:8px;align-items:center}#skeleton .row.fadein{animation:1s ease-in 0s 1 normal both running startup-shimmer-fade-in}#skeleton .chevron{width:12px;height:12px;display:block;margin-right:4px;fill:rgba(227,226,224,.5)}body.dark #skeleton .chevron{fill:#2f2f2f}.startup-shimmer{background:rgba(227,226,224,.5);overflow:hidden;position:relative}body.dark .startup-shimmer{background:#2f2f2f}.startup-shimmer::before{content:"";position:absolute;height:100%;width:100%;z-index:1;animation:1s linear infinite startup-shimmer-animation;background:linear-gradient(90deg,transparent 0,rgba(255,255,255,.4) 50%,transparent 100%)}body.dark .startup-shimmer::before{background:linear-gradient(90deg,transparent 0,rgba(86,86,86,.4) 50%,transparent 100%)}#skeleton .icon{width:20px;height:20px;border-radius:4px}#skeleton .text{height:10px;border-radius:10px}#skeleton .draggable{-webkit-app-region:drag;position:absolute;top:0;left:0;width:100%;height:36px;display:none}#skeleton.isElectron .draggable{display:block}</style><style id="scroll-properties"></style><div id="notion-app"><div class="notion-app-inner notion-light-theme" style='color: rgb(55, 53, 47); fill: currentcolor; line-height: 1.5; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; -webkit-font-smoothing: auto; background-color: white;'><div style="height: 100%;"><div class="notion-cursor-listener" style="width: 100vw; height: 100%; position: relative; display: flex; flex: 1 1 0%; background: white; cursor: text;"><div class="" style="display: flex; flex-direction: column; width: 100%; overflow: hidden;"><div style="max-width: 100vw; z-index: 100; background: white; user-select: none;"><div class="notion-topbar" style="width: 100%; max-width: 100vw; height: 45px; opacity: 1; transition: opacity 700ms ease 0s, color 700ms ease 0s; position: relative;"></div><div style="width: calc(100% - 0px); user-select: none;"></div></div><div class="notion-frame" style="flex-grow: 0; flex-shrink: 1; display: flex; flex-direction: column; background: white; z-index: 1; height: calc(100vh - 45px); max-height: 100%; position: relative; width: 1920px;"><div class="notion-scroller vertical" style="display: flex; flex-direction: column; z-index: 1; flex-grow: 1; position: relative; align-items: center; margin-right: 0px; margin-bottom: 0px; overflow: hidden auto;"><div style="position: absolute; top: 0px; left: 0px;"><div></div></div><div class="whenContentEditable" data-content-editable-root="true" style="caret-color: rgb(55, 53, 47); width: 100%; display: flex; flex-direction: column; position: relative; align-items: center; flex-grow: 1; --whenContentEditable--WebkitUserModify:read-write-plaintext-only;"><span style="height: 1px; width: 1px;"></span><div class="pseudoSelection" contenteditable="false" data-content-editable-void="true" style="user-select: none; --pseudoSelection--background:transparent; width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0; z-index: 2;"></div><div style="width: 100%; display: flex; justify-content: center; z-index: 3; flex-shrink: 0;"><div style="max-width: 100%; min-width: 0px; width: 900px;"><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div style="max-width: 100%; padding-left: calc(96px + env(safe-area-inset-left)); width: 100%;"><div class="pseudoSelection" contenteditable="false" data-content-editable-void="true" style="user-select: none; --pseudoSelection--background:transparent; pointer-events: none;"><div class="notion-record-icon notranslate" style="display: flex; align-items: center; justify-content: center; height: 78px; width: 78px; border-radius: 0.25em; flex-shrink: 0; position: relative; z-index: 1; margin-left: 3px; margin-bottom: 0px; margin-top: 96px; pointer-events: auto;"><div style="display: flex; align-items: center; justify-content: center; height: 78px; width: 78px;"><div style="height: 78px; width: 78px; font-size: 78px; line-height: 1; margin-left: 0px; color: black;"><span aria-label="ðŸ‘‰" role="img" style='font-family: "Apple Color Emoji", "Segoe UI Emoji", NotoColorEmoji, "Noto Color Emoji", "Segoe UI Symbol", "Android Emoji", EmojiSymbols; line-height: 1em; white-space: nowrap;'>ðŸ‘‰</span></div></div></div><div class="notion-page-controls" style='display: flex; justify-content: flex-start; flex-wrap: wrap; margin-top: 8px; margin-bottom: 4px; margin-left: -1px; color: rgba(55, 53, 47, 0.5); font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; height: 24px; pointer-events: auto;'></div></div><div style="padding-right: calc(96px + env(safe-area-inset-right));"><div><div class="notion-selectable notion-page-block" data-block-id="02a023e4-f3de-42a0-a7d0-7befcec51014" style='color: rgb(55, 53, 47); font-weight: 700; line-height: 1.2; font-size: 40px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; cursor: text; display: flex; align-items: center;'><div contenteditable="false" data-content-editable-leaf="true" placeholder="Untitled" spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">More on feature importance tools</div></div><div style="margin-left: 4px;"></div></div></div></div></div><div style="width: 100%; display: flex; flex-direction: column; align-items: center; flex-shrink: 0; flex-grow: 0;"><div contenteditable="false" data-content-editable-void="true" style="padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right)); max-width: 100%; width: 100%;"></div></div></div></div><main style="display: flex; width: 100%; justify-content: center; padding-top: 5px;"><div style="max-width: 100%; min-width: 0px; width: 900px;"><div class="notion-page-content" style="flex-shrink: 0; flex-grow: 1; max-width: 100%; display: flex; align-items: flex-start; flex-direction: column; font-size: 16px; line-height: 1.5; width: 100%; z-index: 4; padding-bottom: 30vh; padding-left: calc(96px + env(safe-area-inset-left)); padding-right: calc(96px + env(safe-area-inset-right));"><div class="notion-selectable notion-text-block" data-block-id="1e56eeaa-9e5b-4e98-8f15-52a0e86748ac" style="width: 100%; max-width: 1728px; margin-top: 2px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">One common mistake in financial research is to rely too heavily on machine learning algorithms without fully understanding their limitations and potential biases. Researchers may take a set of data, run it through an ML algorithm, backtest the predictions, and repeat the process until they find a backtest that looks promising. However, this approach can lead to false discoveries, even if the backtest is conducted using out-of-sample data. Statisticians consider this methodological error to be a form of scientific fraud, and the American Statistical Association includes warnings against it in its ethical guidelines.</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="6d3556a2-5128-4c1d-9cb7-2ff24306fe2a" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Instead of relying solely on backtesting, researchers should focus on understanding the importance of the features used in their algorithms. By analyzing the contribution of each feature, researchers can gain insight into the patterns identified by the algorithm and determine which features are most relevant to its predictive power. This process opens up the black box of machine learning algorithms and provides a more transparent and trustworthy approach to financial research.</div></div></div></div><div class="notion-selectable notion-text-block" data-block-id="a1681449-eebf-4907-ac77-f2a7a09523fc" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">It is important to note that not all feature importance methods are created equal. Some methods are impacted by substitution effects, which occur when the estimated importance of one feature is reduced by the presence of other related features. For example, a feature may appear to be unimportant when it is actually critical in combination with other features. Researchers must take these effects into account when analyzing feature importance.</div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="3f7ce914-9593-4f2c-a140-31f6630cc5d9" style="width: 100%; max-width: 1728px; margin-top: 2em; margin-bottom: 4px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div contenteditable="false" data-content-editable-leaf="true" placeholder="Heading 1" spellcheck="true" style='max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3;'>Mean Decrease Impurity</div></div></div><div class="notion-selectable notion-text-block" data-block-id="4b00159d-e8d7-451f-8d8b-ce8ff49ce37a" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">One feature importance method that is specific to tree-based classifiers is Mean Decrease Impurity (MDI). This method measures how much the impurity of each decision tree is decreased by each feature, and averages those values across all trees to rank the features accordingly. However, MDI is susceptible to masking effects, where some features are systematically ignored in favor of others. Researchers can avoid this bias by setting max_features to one when using Sklearn's RandomForest class.</div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="c43f8cff-f68a-4c32-8120-16b57dea5f50" style="width: 100%; max-width: 1728px; margin-top: 2em; margin-bottom: 4px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div contenteditable="false" data-content-editable-leaf="true" placeholder="Heading 1" spellcheck="true" style='max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3;'>Mean Decrease Accuracy</div></div></div><div class="notion-selectable notion-text-block" data-block-id="75cac7ef-bf53-4e9a-a252-aac78e651380" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Another feature importance method is Mean Decrease Accuracy (MDA), which is a slow, predictive-importance (out-of-sample) method. MDA permutates each column of the features matrix one at a time, and measures the loss in performance caused by each permutation. This method can be applied to any classifier, not just tree-based classifiers, and is not limited to accuracy as the sole performance score.</div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="5b573948-223f-40a1-84b9-918a49d9111a" style="width: 100%; max-width: 1728px; margin-top: 2em; margin-bottom: 4px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div contenteditable="false" data-content-editable-leaf="true" placeholder="Heading 1" spellcheck="true" style='max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3;'>Single Feature Importance</div></div></div><div class="notion-selectable notion-text-block" data-block-id="75e613df-b0f9-403a-a843-d12de53b1307" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 1px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">Single Feature Importance (SFI) is a cross-section predictive-importance (out-of-sample) method that computes the OOS performance score of each feature in isolation. This method is not limited to accuracy as the sole performance score and avoids substitution effects, but can conclude that all features are unimportant if performance is evaluated via OOS CV.</div></div></div></div><div class="notion-selectable notion-header-block" data-block-id="2e583bbd-2edb-4421-9eae-b843d7bbec68" style="width: 100%; max-width: 1728px; margin-top: 2em; margin-bottom: 4px;"><div style="display: flex; width: 100%; color: inherit; fill: inherit;"><div contenteditable="false" data-content-editable-leaf="true" placeholder="Heading 1" spellcheck="true" style='max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px; font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; font-weight: 600; font-size: 1.875em; line-height: 1.3;'>Principal components analysis</div></div></div><div class="notion-selectable notion-text-block" data-block-id="ee4a5119-3d51-4a0d-af2b-73044617a876" style="width: 100%; max-width: 1728px; margin-top: 1px; margin-bottom: 0px;"><div style="color: inherit; fill: inherit;"><div style="display: flex;"><div contenteditable="false" data-content-editable-leaf="true" placeholder=" " spellcheck="true" style="max-width: 100%; width: 100%; white-space: pre-wrap; word-break: break-word; caret-color: rgb(55, 53, 47); padding: 3px 2px;">It is important to note that substitution effects can lead researchers to discard important features that happen to be redundant. For this reason, orthogonalization procedures such as principal components analysis (PCA) can be used to alleviate the impact of linear substitution effects. By understanding the importance of features and taking into account substitution effects, researchers can gain deeper insights into machine learning algorithms and develop more trustworthy investment strategies.</div></div></div></div></div></div><div contenteditable="false" data-content-editable-void="true" style="width: 0px;"><div style="display: none; flex-shrink: 0; pointer-events: none; width: 0px; position: absolute; right: 192px; opacity: 0;"><div style="display: flex; flex-direction: column; padding: 5px 16px; width: 340px; flex-shrink: 0; height: 100%; position: relative; pointer-events: none; z-index: 1;"><div style="position: absolute; pointer-events: none; width: 100%; height: 100%; top: -5px; background: linear-gradient(white 0px, rgba(255, 255, 255, 0) 15px);"></div></div></div></div></main><span style="height: 1px; width: 1px;"></span></div><div class="notion-presence-container" style="position: absolute; top: 0px; left: 0px; z-index: 89;"><div></div></div></div></div></div><div class="notion-peek-renderer" style="position: fixed; top: 0px; right: 0px; bottom: 0px; width: 960px; z-index: 109; transform: translateX(960px) translateZ(0px);"></div></div></div></div></div><textarea aria-hidden="true" style="opacity: 0; pointer-events: none; position: fixed; left: 0px; top: 0px;" tabindex="-1"></textarea><script src="assets/js/1172e9111a5fb396bcb8a05870b5eabf8abf221c.js" type="text/javascript"></script><div style="width: env(safe-area-inset-bottom);"></div></body></html>